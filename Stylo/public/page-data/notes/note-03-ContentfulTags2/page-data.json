{"componentChunkName":"component---src-templates-note-post-js","path":"/notes/note-03-ContentfulTags2/","result":{"data":{"markdownRemark":{"id":"a1362cb8-9073-539e-bd88-1a941ed73cb5","html":"<p><a href=\"/notes/note-02/\">Blogã«Contentfulã®Tagsæ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸ</a>\n(2023/06/04 : Gatsby+Contentful Tags)ã®ç¶šãã§ã™ã€‚</p>\n<details open>\n  <summary>ã‚‚ãã˜</summary>\n<ul>\n<li><a href=\"#createPage\">createPage</a></li>\n<li><a href=\"#kebabCase\">ä½™è«‡ï¼šã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹ã˜ã‚ƒãªãã¦ã„ã„</a></li>\n<li><a href=\"#context\">context:ã®å—ã‘æ¸¡ã—</a></li>\n<li><a href=\"#TagIndexQuery\">TagIndexQueryã®ã‚½ãƒ¼ã‚¹</a></li>\n<li><a href=\"#Tagslink\">Postãƒšãƒ¼ã‚¸ã«Tags &#x3C;Link to={ $slug }>ã‚’ãƒªãƒ³ã‚¯ã‚’è¡¨ç¤ºã™ã‚‹</a></li>\n<li><a href=\"#BuildError\">?.ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒã‚§ã‚¤ãƒ³ã‚°æ¼”ç®—å­ã‚’ã¤ã‘ãšã«Build Error</a></li>\n</ul>\n</details>\n<hr>\n<p>ã¨ã‚Šã‚ãˆãšã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¤œç´¢ã§è¦‹ã‹ã‘ãŸTagsãƒšãƒ¼ã‚¸ã®ä½œã‚Šæ–¹ã‚’ã€Codeã®ã‚³ãƒ”ãƒšã§ã¯åŸ’ãŒé–‹ã‹ãªã„ã¨æ°—ã¥ã„ãŸã¨ãã«ã€ã²ã¨ã¾ãšã‚·ãƒ©ãƒ•ã«ãªã£ã¦è¨­è¨ˆå›³ã¨ã¯ã„ãˆãªã„ãƒãƒ³ãƒå›³ã‚’æ›¸ãå‡ºã—ã¾ã—ãŸã€‚</p>\n<p>åˆ¶ä½œã®éµã¯<strong>Pen</strong>ã§ã™ã€‚ç´™ã¨ãƒšãƒ³ã€‚</p>\n<p>â€ƒ</p>\n<ul>\n<li>ã¾ãšã¯æ°—ã¾ã¾ã«PostãŸã¡ã«ã¤ã‘ã‚‰ã‚ŒãŸTagã‚’ã€ã‚¯ãƒªãƒƒã‚¯ã—ãŸå…ˆã«è¡¨ç¤ºã™ã‚‹ <strong>/tags/$display_tag/</strong> ã¨ã„ã†ãƒšãƒ¼ã‚¸ç¾¤ãŒã€Tagã®æ•°ã ã‘å¿…è¦ã€‚<br>å®šæ•°ã®ãªã„å‹•çš„ã«ã¤ãã‚‹ãƒšãƒ¼ã‚¸ã ãŒã€å¤–è¦³ã¯ã€Œãƒªã‚¹ãƒˆã§ã‚ã‚‹ã€ãŸã‚<a href=\"/blog\">Bolgãƒˆãƒƒãƒ—</a>ã¨åŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ã€‚<br></li>\n</ul>\n<p>ğŸ©·<a href=\"/tags/macMini/\">æˆæœç‰©ï¼šMac mini ã¨ã„ã†ã‚¿ã‚°åã‚’æŠ¼ä¸‹ã—ãŸä¾‹ï¼š/tags/macMini/</a><br>â€ƒ<br></p>\n<ul>\n<li>ãƒªã‚¹ãƒˆã‹ã‚‰é–‹ãã€å„Postãƒšãƒ¼ã‚¸ã¯ã™ã§ã«ã‚ã‚‹ã®ã§ä¸è¦ã ãŒã€Postãƒšãƒ¼ã‚¸ã®Tagç¾¤ã¯ã€ãã‚Œãã‚Œè©²å½“ã® <strong>/tags/$display_tag/</strong> ã¸ãƒªãƒ³ã‚¯ã•ã›ã‚‹ã€‚displayã«è¦‹ã›ã‚‹è¡¨ç¤º<br>ã“ã®Starterã®å ´åˆã¯ã€Tagsè¡¨ç¤ºã¯ã•ã‚Œã¦ã„ãŸã®ã‚’<strong>Contentful Tags</strong>ã«å·®ã—æ›¿ãˆã¦ãƒªãƒ³ã‚¯ã‚‚ã¤ã‘ã‚‹ã¨ã„ã†å·¥ç¨‹ã€‚<br></li>\n</ul>\n<p>ğŸ©·<a href=\"/blog/gatsby-cloud/\">æˆæœç‰©ï¼š4ã¤ã®ã‚¿ã‚°ãŒPostã®æœ«å°¾ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ä¾‹ï¼š/blog/gatsby-cloud/</a><br>â€ƒ<br></p>\n<ul>\n<li>\n<p>ã‚¿ã‚°ä¸€è¦§è¡¨ã€‚WordPressã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§ã€Œã‚¿ã‚°ãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰ã€ã¨å‘¼ã°ã‚Œã¦ã„ã‚‹ã‚‚ã®ã€‚<br>ï¼ˆã†ã¡ã®Blogã«è¦ã‚‹ã‹ãï¼Ÿï¼‰ã¨ã‚ã¾ã‚Šå¿…è¦ã‚’æ„Ÿã˜ãªã‹ã£ãŸãŒã€Œä¸€æœ›ã§ãã‚‹ãƒ»ç¶²ç¾…ã•ã‚ŒãŸã€ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã¨ã—ã¦ã¯å¤§åˆ‡ã¨è€ƒãˆã‚‹ã‚¿ãƒãªã®ã§ã€ <strong>/tags/$display_tag/</strong> å„ãƒšãƒ¼ã‚¸ã®ãƒ•ãƒƒã‚¿ãƒ¼è¿‘ãã«<strong>TAG Cloud</strong>ã¨ã—ã¦è¼‰ã›ãŸã€‚<br>TAG Cloudã‚’æ›¸ããŸã‚ã«ä½œæ¥­ç”¨ã§ã¤ãã£ãŸ1æšã‚‚ã®<a href=\"/tags/\">â­ï¸ALL TAGS</a>ã‚‚TAG Cloudã®å³éš…ã«ã²ã£ãã‚Šé®åº§ã€‚<br>å¤§é‡ã«å¤šæ–¹é¢è¨˜äº‹ã‚’è¼‰ã›ã‚‹Blogãªã‚‰é‡å®ã™ã‚‹ã‚‚ã®ã€‚</p>\n</li>\n<li>\n<p>å› ã¿ã«<a href=\"/blog/\">Blogãƒˆãƒƒãƒ—</a>ã§ã¯ä»¥å‰ã¨åŒã˜ãTagã‚’è¡¨ç¤ºã™ã‚‹ã®ã¿ã§Linkã‚’ã—ãªã„ãŸã‚ã€Linkã®ã‚ã‚‹ãªã—ã§ãƒ–ãƒ­ãƒƒã‚¯ã®é«˜ã•ã«å¤‰åŒ–ã‚’ã¤ã‘ã¦ã„ã‚‹ã€‚</p>\n</li>\n</ul>\n<hr>\n<h1>createPage<a name=\"createPage\"></a></h1>\n\n        <div class=\"gatsby-code-title\">\n          <span>gatsby-node.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token property\">tags</span>.<span class=\"token property-query\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token property\">tag</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span>> <span class=\"token punctuation\">{</span>\n    <span class=\"token property-query\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token attr-name\">path</span><span class=\"token punctuation\">:</span> `/<span class=\"token property\">tags</span>/$<span class=\"token punctuation\">{</span><span class=\"token property\">tag</span>.<span class=\"token property\">contentful_id</span><span class=\"token punctuation\">}</span>/`<span class=\"token punctuation\">,</span>\n      <span class=\"token attr-name\">component</span><span class=\"token punctuation\">:</span> <span class=\"token property\">tagIndex</span><span class=\"token punctuation\">,</span>\n      <span class=\"token attr-name\">context</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token attr-name\">slug</span><span class=\"token punctuation\">:</span> <span class=\"token property\">tag</span>.<span class=\"token property\">contentful_id</span><span class=\"token punctuation\">,</span>\n        <span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token property\">tag</span>.<span class=\"token property\">name</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Tagãƒšãƒ¼ã‚¸ã®å‹•çš„ãªç”Ÿæˆã¯ã€ã™ã§ã«ã‚ã‚‹BlogPostç”¨ã®<strong>createPage</strong>ã¨åŒã˜è¦é ˜ã§ã‚µã‚¯ãƒƒã¨æ›¸ã‘ã‚‹ã€‚<br>\nPostã®å ´åˆã¯ã€<strong>if (posts.length > 0) {â€ƒ}</strong> â€ƒ ï¼ˆ0ã§ãªã‘ã‚Œã°ï¼‰æ¡ä»¶ä¸‹ã«ã‚ã‚‹ãŒã€IFã¯æ›¸ã‹ãªã‹ã£ãŸä¹±æš´è€…ã€‚<br></p>\n<p>forEachã§ç½®ãæ›ãˆå…ƒã¨ãªã‚‹<strong>tags.</strong> ã¯ result.ã®Contentful Tagï¼ˆ33è¡Œç›®ï¼‰</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>gatsby-node.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token object\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">createPage</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token property\">actions</span>\n\n<span class=\"token property\">const</span> <span class=\"token property\">blogPost</span> <span class=\"token operator\">=</span> <span class=\"token property\">path</span>.<span class=\"token property-query\">resolve</span><span class=\"token punctuation\">(</span>'./<span class=\"token property\">src</span>/<span class=\"token property\">templates</span>/<span class=\"token property\">blog</span>-<span class=\"token property\">post</span>.<span class=\"token property\">js</span>'<span class=\"token punctuation\">)</span>\n<span class=\"token property\">const</span> <span class=\"token property\">tagIndex</span> <span class=\"token operator\">=</span> <span class=\"token property\">path</span>.<span class=\"token property-query\">resolve</span><span class=\"token punctuation\">(</span>'./<span class=\"token property\">src</span>/<span class=\"token property\">templates</span>/<span class=\"token property\">tags</span>-<span class=\"token property\">index</span>.<span class=\"token property\">js</span>'<span class=\"token punctuation\">)</span>\n\n<span class=\"token property\">const</span> <span class=\"token property\">result</span> <span class=\"token operator\">=</span> <span class=\"token property\">await</span> <span class=\"token property-query\">graphql</span><span class=\"token punctuation\">(</span>\n    `\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token object\">allContentfulBlogPost</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token object\">nodes</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">title</span>\n            <span class=\"token property\">slug</span>\n            <span class=\"token object\">metadata</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token object\">tags</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">contentful_id</span>\n                <span class=\"token property\">name</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token object\">allContentfulTag</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token object\">nodes</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">contentful_id</span>\n            <span class=\"token property\">name</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    `\n  <span class=\"token punctuation\">)</span>\n// <span class=\"token operator\">...</span>ç•¥<span class=\"token operator\">...</span>\n// â–¼ â–¼ â–¼ <span class=\"token property\">result</span>ã§å¾—ã‚‰ã‚ŒãŸã€€<span class=\"token property\">allContentfulTag</span>.<span class=\"token property\">nodes</span>ã€€ã‚’ä»£å…¥\n\n<span class=\"token property\">const</span> <span class=\"token property\">tags</span> <span class=\"token operator\">=</span> <span class=\"token property\">result</span>.<span class=\"token property\">data</span>.<span class=\"token property\">allContentfulTag</span>.<span class=\"token property\">nodes</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>component: tagIndex,</strong> ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡ã™ãƒ‘ã‚¹ã‚’ç›´æ¥æ›¸ãã‚±ãƒ¼ã‚¹ã‚’å¤šãè¦‹ãŸãŒã€ã“ã®Starterã®å ´åˆã¯ã€3è¡Œç›®ã®ã‚ˆã†ã«å…ˆã«ä»£å…¥ã—ã¦ãŠãæ‰‹æ³•ã ã£ãŸã®ã§Tgasã‚‚4è¡Œç›®\n<strong>path.resolve()</strong>\nã§åŒæ§˜ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ¸¡ã—ã¦ã„ã‚‹ã€‚</p>\n<hr>\n<h2>ä½™è«‡ï¼šã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹ã˜ã‚ƒãªãã¦ã„ã„<a name=\"kebabCase\"></a></h2>\n<p>Gatsbyã®ã‚¿ã‚°ã€ContentfulTaulã®Tagsã€ã¨ã„ã£ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰æ¥ãŸäººãªã‚‰ã€ãƒ‹ãƒƒãƒã§ãªã„ãƒ¡ã‚¸ãƒ£ãƒ¼ãªMarkdownã®<strong>frontmatter</strong>ã§ã®æ‰‹æ³•ã¯ã¨ã£ãã«ç›®ã«ã—ã¦ã„ã‚‹ã¨æ€ã†ã€‚</p>\n<p>ä¾‹ã§ã„ã†ã¨è£½å“åï¼šMac mini ã‚’ã‚¿ã‚°ä»˜ã‘ã—ãŸã¨ã<br>\nDisplayè¡¨ç¤ºã¯ã‚¹ãƒšãƒ¼ã‚¹ã‚ã‚Šã§ã‚‚ã€slugã¨ã—ã¦ã¯ã‚ˆã‚ã—ããªã„ãŸã‚ãƒã‚¤ãƒ•ãƒ³ã‚’æŒŸã‚“ã  <strong>kebab-case</strong> ã«ç½®ãæ›ãˆã‚‹æ‰‹æ³•ã€‚\nfrontmatterã®Tagsã¯ã€Tags[0],Tags[1],Tags[2],ãƒ»ãƒ»ãƒ»ã¨ä¸€æ¬¡å…ƒé…åˆ—ãªã®ã§ã€å–ã‚Šå‡ºã—æ–¹ã¯å˜ç´”ã ãŒã€å®Ÿæ…‹ã¨slugã‚’ç½®ãæ›ãˆã‚‹å¿…è¦ãŒç”Ÿã˜ã‚‹å ´åˆã‚ã‚Šã€‚</p>\n<p>æ¼¢å­—ãŒå…¥ã‚‹ã¨æ€¥ã«ã‚€ãšã‹ã—ãæ„Ÿã˜ã‚‹ãŒã€è¦ã¯ã€Œç©ºç™½ã‚¹ãƒšãƒ¼ã‚¹ã€ã‚’è¦‹ã¤ã‘ãŸã‚‰ã€Œãƒã‚¤ãƒ•ãƒ³ã€ã«ç½®ãæ›ãˆã¦slugã¨ã™ã‚‹ã€‚<br>\nä»–æ–¹ã€Contentful Tags ã¯æœ€åˆã‹ã‚‰åå‰ã¨IDã‚’æŒã£ã¦ã¤ãã‚‰ã‚Œã¦ã„ã‚‹ãŸã‚<br>\nâ€ƒ<br>\nå®Ÿæ…‹ï¼šè‡ªåˆ†ãŒã¤ã‘ãŸã‚¿ã‚°ãã®ã‚‚ã®ã§ã€Displayã«è¡¨ç¤ºã™ã‚‹åã€€=ã€€tag.nameã€€ã¨<br>\nslugï¼šã«ã™ã¹ãIDã€€=ã€€tag.contentful_idã€€ã‚’ãã®ã¾ã¾ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã‚‹ã€‚</p>\n<p>createPage ã® <strong>context:</strong> ã¨ã—ã¦æ¸¡ã—ã¦ã„ã‚‹ã®ã¯Codeã«è¼‰ã›ãŸã¨ãŠã‚Šã€‚</p>\n<p><strong>context:</strong> ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹ã‚“ã ã‹ã‚‰ã€Postãƒšãƒ¼ã‚¸ã§ã®æ‰±ã„ã¯ãŠèŒ¶ã®å­ã•ã„ã•ã„ã ã‚ã†ï¼ã¨æ€ã„ãã‚„ã€ã“ã‚ŒãŒãªã‹ãªã‹æ…£ã‚Œãªã„åˆå¿ƒè€…ã«ã¯é›£é–¢ã«ãªã£ãŸã€‚</p>\n<hr>\n<h1>context:ã®å—ã‘æ¸¡ã—<a name=\"context\"></a></h1>\n<p>æ›¸ç±ã‚‚ãƒã‚§ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚‚èª­ã¾ãšã«ä»–äººã®ã‚½ãƒ¼ã‚¹ã ã‘è¦‹ã¦ã€ã©ã†ã«ã‹ã—ã‚ˆã†ã¨ã„ã†é­‚èƒ†ãŒã¾ãšé å›ã‚Šã®è¦å› ãªã‚“ã™ãŒï¼<br>\nãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦å¤šã‹ã£ãŸã®ãŒã€ã“ã†ã„ã†dataã‚’ãƒãƒ«ãƒƒã¨æ¸¡ã™ã‚‚ã®</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'props.data.allContentfulBlogPost.nodes'</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>æ¸¡ã™å´ã¯</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>gatsby-node.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token attr-name\">context</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token attr-name\">slug</span><span class=\"token punctuation\">:</span> <span class=\"token property\">post</span>.<span class=\"token property\">slug</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">previousPostSlug</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">nextPostSlug</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token attr-name\">article</span><span class=\"token punctuation\">:</span> <span class=\"token property\">post</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>slugã¨\n<strong>article: post</strong> ï¼ˆãƒãƒ«ãƒƒã¨dataï¼‰\nã¨ next / previous ãªã©å‰å¾Œãƒšãƒ¼ã‚¸ã®ç¹‹ãŒã‚Šã‚’ã¤ãã£ãŸã‚‚ã®ã‚’æ¸¡ã™ã‚±ãƒ¼ã‚¹ãŒå½“ç„¶ãªãŒã‚‰æƒ…å ±ã¨ã—ã¦å¤šã</p>\n<p>contextã§æ¸¡ã•ã‚ŒãŸã‚‚ã®ã¯ <strong>$context_name</strong> : <strong>$slug</strong> ãªã©ã§\nQueryã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«ä½¿ãˆã‚‹ã€‚ã¨ã„ã†ç†è§£ã¾ã§ã¯\nlocalhost:8000/___graphql ã§ã˜ã£ãã‚ŠGraphQLã‚’è¦‹ã‚‹ã¨æ°—ã¥ãã®ã ãŒ</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> tagname <span class=\"token operator\">=</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'props.pageContext'</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ã‚ºãƒãƒªã®ãŸã£ãŸã“ã‚Œã ã‘ãŒã€å°ãå‡ºã•ã‚Œã‚‹ã¾ã§ã«æ™‚é–“ã‚’å–°ã£ãŸã€‚<br>â€ƒ<br></p>\n<p><strong>çµå±€ãƒ»ãƒ»ãƒ»æœ¬å®¶ãŒã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã€‚</strong><br>\n<a href=\"https://www.gatsbyjs.com/docs/creating-and-modifying-pages/\">https://www.gatsbyjs.com/docs/creating-and-modifying-pages/</a><br>â€ƒ<br></p>\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¿»è¨³ã‚‚äº¤ãˆã¦çœŸå‰£ã«çœºã‚ãŸçµæœã€ç›´æ¥çš„ãªã‚³ãƒ”ãƒšãƒã‚¿ã¯ãªãã¦ã‚‚ã€<strong>props</strong> ãªã‚“ã ã‚ˆãªã€\n<strong>pageContext</strong> ã¯ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã ãªã€ã¨ã‹ã€Œç›®ã«ä¼ãˆã¦ãã‚‹ã€<br>\nä»Šèª­ã¿è¿”ã™ã¨ä¸‹ã‹ã‚‰2ç•ªç›®ã®codeSnippetã§æ°—ã¥ã„ãŸã®ã‹ã€‚<br>â€ƒ<br></p>\n<p class=\"crimson-col bold\">On your pages and templates, you can access your context via the prop pageContext like this:<br>ï¼ˆãƒšãƒ¼ã‚¸ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ã€æ¬¡ã®ã‚ˆã†ã« prop pageContext ã‚’ä»‹ã—ã¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ï¼‰</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Page</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> pageContext <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>pageContext<span class=\"token punctuation\">.</span>house<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Page</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>æ‰‹æ³•ãŒå°‘ã—é•ã†ã ã‘ãªä»£å…¥ã‚±ãƒ¼ã‚¹ãŒè¦‹ãˆãŸã‚‰è‡ªåˆ†ã®Starterã«åˆã‚ã›ãŸ3è¡Œç›®ã‚’åŠ ç­†ã—</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'props.data.allContentfulBlogPost.nodes'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> tags <span class=\"token operator\">=</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'props.data.allContentfulTag.nodes'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> tagname <span class=\"token operator\">=</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'props.pageContext'</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n\t\t<span class=\"token operator\">...</span><span class=\"token operator\">...</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">)</span>\t</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>createPageã§ã¤ãã‚‰ã‚Œã‚‹ <strong>/tags/$display_tag/</strong> ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>/src/templates/tags-index.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>h1 className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token constant\">TAGS</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>tagname<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ã‚ˆã†ã‚„ãå¯¾è±¡ã®Tagåã‚’ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«ã¨ã—ã¦åŸ‹ã‚ã‚‰ã‚Œã¾ã—ãŸã€‚</p>\n<p>ãŸã£ãŸã“ã‚Œã ã‘ã ãŒã€Tagãƒªãƒ³ã‚¯ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã‚Šãšã£ã¨é›£é–¢ã ã£ãŸä»¶ã€‚<br>â€ƒ<br></p>\n<hr>\n<h1>TagIndexQueryã®ã‚½ãƒ¼ã‚¹<a name=\"TagIndexQuery\"></a></h1>\n\n        <div class=\"gatsby-code-title\">\n          <span>/src/templates/tags-index.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token property\">export</span> <span class=\"token property\">const</span> <span class=\"token property\">pageQuery</span> <span class=\"token operator\">=</span> <span class=\"token property\">graphql</span>`\n<span class=\"token keyword\">query</span> <span class=\"token definition-query function\">TagIndexQuery</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$slug</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token object\">allContentfulTag</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token object\">nodes</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token property\">contentful_id</span>\n\t\t\t<span class=\"token property\">name</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token property-query\">allContentfulBlogPost</span><span class=\"token punctuation\">(</span>\n\t\t<span class=\"token attr-name\">sort</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">publishDate</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">DESC</span> <span class=\"token punctuation\">}</span>\n\t\t<span class=\"token attr-name\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">metadata</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">tags</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">elemMatch</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">contentful_id</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">eq</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$slug</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token object\">nodes</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token property\">title</span>\n\t\t\t<span class=\"token property\">slug</span>\n\t\t\t<span class=\"token property-query\">publishDate</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">formatString</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"YYYY/MM/DD\"</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token object\">metadata</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token object\">tags</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t<span class=\"token property\">contentful_id</span>\n\t\t\t\t\t<span class=\"token property\">name</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token object\">heroImage</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token property-query\">gatsbyImage</span><span class=\"token punctuation\">(</span>\n\t\t\t\t\t<span class=\"token attr-name\">layout</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">FULL_WIDTH</span>\n\t\t\t\t\t<span class=\"token attr-name\">placeholder</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">BLURRED</span>\n\t\t\t\t\t<span class=\"token attr-name\">width</span><span class=\"token punctuation\">:</span> <span class=\"token number\">424</span>\n\t\t\t\t\t<span class=\"token attr-name\">height</span><span class=\"token punctuation\">:</span> <span class=\"token number\">212</span>\n\t\t\t\t<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token object\">description</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token property\">raw</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n`</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ã¾ãšTagsãƒªãƒ³ã‚¯ã‹ã‚‰å¯¾è±¡ã¨ãªã‚‹Postã‚’çµã‚Šè¾¼ã‚€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«ã€gatsby-node.jsã®createPageã‹ã‚‰\n<strong>context:</strong>\nã¨ã—ã¦æ¸¡ã•ã‚ŒãŸ <strong>slug: tag.contentful_id,</strong>\nã‚’11è¡Œç›®ã§ä½¿ã£ã¦ã„ã¾ã™ã€‚{eq: $slug }</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token literal-property property\">filter</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">metadata</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tags</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">elemMatch</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">contentful_id</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">eq</span><span class=\"token operator\">:</span> $slug <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ãã®PostãŒæŒã¤Tagsã®ä¸­ã« <strong>$slug</strong> ã¨åŒã˜æ–‡å­—åˆ—ã® <strong>contentful_id</strong> ãŒã‚ã‚‹ã‹ã©ã†ã‹ã€‚\n<strong>elemMatch:</strong> ã§ç¢ºèªã€‚</p>\n<p>äº‹å‰ã« $slug ã‚’æ–‡å­—åˆ—åŒ–ã™ã‚‹å‡¦ç†ãŒ2è¡Œç›® <strong>($slug: String!)</strong><br>\nallContentfulTag {â€ƒ}<br>\nallContentfulBlogPost(Â ) {â€ƒ}<br></p>\n<p>Tagã¨Post ä¸¡æ–¹ã®dataã‚’\nGraphQLã«è¦æ±‚ã™ã‚‹pageQuery<br>â€ƒ<br></p>\n<hr>\n<h1>Postãƒšãƒ¼ã‚¸ã«Tags &#x3C;Link to={ $slug }>ã‚’ãƒªãƒ³ã‚¯ã‚’è¡¨ç¤ºã™ã‚‹<a name=\"Tagslink\"></a></h1>\n\n        <div class=\"gatsby-code-title\">\n          <span>/src/templates/blog-post.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>small</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{tagstyles.tags}</span><span class=\"token punctuation\">></span></span>\n{post.metadata.tags.map(tag => (\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{tag}</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{tagstyles.tag}</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Link</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{`/tags/${tag.contentful_id}`}</span><span class=\"token punctuation\">></span></span>{tag.name}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Link</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t))}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>small</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>styleã‚„HTMLã‚¿ã‚°ã‚‚ãã®ã¾ã¾è»¢è¨˜ã—ã¦ã¾ã™ãŒã€2è¡Œç›®ã‹ã‚‰6è¡Œç›®ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã§ç½®ãæ›ãˆã€‚<br></p>\n<p>æ—¥æœ¬èªã§ï¼ˆå†™åƒã¨ã¯ï¼‰ã¨ã‚°ã‚°ã‚‹ã¨ã€ã‚ã¡ã‚ƒãã¡ã‚ƒçš„ç¢ºãªèª¬æ˜ãŒå‡ºã¦ãã¾ã—ãŸã€‚</p>\n<blockquote>\né›†åˆã®å„å…ƒ(ã’ã‚“)ã‚’ä»–ã®é›†åˆï¼ˆã¾ãŸã¯åŒã˜é›†åˆï¼‰ã®å…ƒã«ãã‚Œãã‚Œå¯¾å¿œã•ã›ã‚‹ã“ã¨ã€‚<br>\nã€Œå®Ÿæ•°ã®å¯¾ã‹ã‚‰è™šæ•°ã¸ã®â€•ã€<br>\nmap(ping) ã®è¨³ã€‚åŒä¸€é›†åˆå†…ã§è¡Œã†ã®ã¯ç‰¹ã«ã€Œå¤‰æ›ã€ã¨è¨€ã†ã€‚\n</blockquote>\n<p>ä¸Šã®ã‚½ãƒ¼ã‚¹ã¯ã€Postãƒšãƒ¼ã‚¸ã‚„ <strong>/tags/${tag.contentful_id}</strong> è‡ªèº«ã«ã‚‚ã€ŒTAG Cloudã€ã¨ã—ã¦è¼‰ã›ã¦ã„ã¾ã™ã€‚<br>\n<a href=\"/blog\">Bolgãƒˆãƒƒãƒ—</a>ã ã‘ã¯ã€Tagè¡¨ç¤ºã®ã¿ãƒªãƒ³ã‚¯ãªã—ã®ä½¿ã„æ–¹ã‚’ã—ã¦ã„ã¾ã™ãŒã€Gatsby developã®é–‹ç™ºç’°å¢ƒã§ã¯å•é¡Œãªã‹ã£ãŸã‚‚ã®ãŒã€Buildã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚\nâ€ƒ<br><a name=\"BuildError\"></a></p>\n<p>path/ ã«å•é¡ŒãŒã‚ã‚‹<br>\npost.metadata.tags. ã¯æœªå®šç¾©ã <br></p>\n<p>ã¨ã„ã£ãŸã‚¨ãƒ©ãƒ¼å†…å®¹ã§æ€ã„å½“ãŸã‚‹ã“ã¨ãŒä¸€ã¤ã€‚<br>\nContentfulè£½ã®ã“ã®Starterã¯ã€Webã§è¦‹ã‚‹è¦‹æœ¬ã‚½ãƒ¼ã‚¹ã‚ˆã‚Šå°æ´’è½ã¦ã„ã‚‹ã¨ã„ã†ã‹ã€ã‚¹ãƒãƒ¼ãƒˆã¨ã„ã†ã‹ãƒ»ãƒ»ãƒ»ã ã‚‰ã ã‚‰ã¨1ãƒšãƒ¼ã‚¸ã«æ›¸ã‹ãšã«é©åº¦ã«componentsåŒ–ã—ã¦ã‚ã‚‹ã®ã‚‚ã€ãŠæ‰‹æœ¬ã«ãªã‚‹ãªãã¨æ°—ã«å…¥ã£ã¦ã„ã¾ã™ãŒã€componentsåŒ–ã™ã‚‹ã¨éšå±¤ã¯æ·±ããªã‚‹ã‚“ã§ã™ã­ã€‚</p>\n<p>ãã®ä¸€ä¾‹ãŒå•é¡Œã«ãªã£ãŸ<a href=\"/blog\">Bolgãƒˆãƒƒãƒ—</a>ã§<br>\nsrc/pages/blog.js æœ¬ä½“ã«ã¯ã”ãçŸ­ãHero-Imageã¨ã€ŒBLOGã€ã¨ã„ã†ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã¾ã§ã€‚<br>\nPostã‚’ä¸¦ã¹ã¦ã„ã‚‹Gridã¯</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>/src/pages/blog.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ArticlePreview</span> <span class=\"token attr-name\">posts</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{posts}</span> <span class=\"token punctuation\">/></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ã¨componentsã«æ¸¡ã—ã¦ä»»ã›ã¦ã„ã‚‹ã€‚<br>\nè¦‹å½“ã¯ã¤ããŒå¯¾å‡¦æ³•ã¯ã¾ã£ãŸãæ€ã„ã¤ã‹ã‚“ã€‚ã¨ã„ã†ã¨ãã«æ•‘ã„ã®è¨˜äº‹ğŸ’œ</p>\n<p>â­ï¸ <a href=\"https://qiita.com/yosh1ba/items/6c2299813dcc76d910d7\">gatsby build æ™‚ã®ã€ŒWebpackError: TypeError: Cannot read property 'hoge' of undefinedã€å¯¾å‡¦æ³•</a></p>\n<blockquote>\n<p>å¯¾å‡¦æ³•ï¼šã‚¨ãƒ©ãƒ¼ã¨ãªã£ã¦ã„ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆã“ã®å ´åˆã¯hogeï¼‰ã®å‰ã«?.ã‚’ä»˜ã‘ã€?.hogeã¨ã™ã‚‹ã“ã¨ã§è§£æ¶ˆ</p>\n</blockquote>\n\n        <div class=\"gatsby-code-title\">\n          <span>/src/components/ArticlePreview.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ArticlePreview</span> <span class=\"token attr-name\">posts</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{posts}</span> <span class=\"token punctuation\">/></span></span>\n// ã§{posts}ã‚’æ¸¡ã•ã‚ŒãŸå…ˆã®componentsã§ã€metadata?. ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒã‚§ã‚¤ãƒ³ã‚°æ¼”ç®—å­ã‚’æŒ¿å…¥\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>small</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{tagstyles.tags}</span><span class=\"token punctuation\">></span></span>\n\t{post.metadata?.tags.map(tag => {\n\treturn (\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{tag.contentful_id}</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{tagstyles.tag}</span><span class=\"token punctuation\">></span></span>\n\t\t{tag.name}\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t)\n\t})}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>small</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>èª¬æ˜ãŒçš„ç¢ºã ã£ãŸã®ã§ãã®ã¾ã¾å¼•ç”¨ã—ã¾ã™ã€‚</p>\n<blockquote>\n<h3>?.ã¨ã¯ä½•ãªã®ã‹</h3>\nèª¿ã¹ã¦ã¿ã‚‹ã¨ã€ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒã‚§ã‚¤ãƒ³ã‚°æ¼”ç®—å­ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã¿ãŸã„ã§ã™ã€‚\n<p><a href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Optional_chaining\">MDNã«ã‚ˆã‚‹ã¨</a>ã€æ·±ã„å…¥ã‚Œå­æ§‹é€ ã«ãªã£ãŸã‚µãƒ–ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹éš›ã¯ã€å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£é–“ã®å‚ç…§ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã®ã“ã¨ã€‚ä»Šå›ã®ã‚³ãƒ¼ãƒ‰ã§è¨€ã†ã¨ã€data.allFile.nodeså†…ã«findã§ãƒ’ãƒƒãƒˆã—ãŸè¦ç´ ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ãŸä¸Šã§ã€publicURLã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚</p>\n<p>ã“ã‚Œã‚’æš—é»™çš„ã«ã‚„ã£ã¦ãã‚Œã‚‹ã®ãŒã€ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒã‚§ã‚¤ãƒ³ã‚°æ¼”ç®—å­ã§ã™ã€‚</p>\n</blockquote>\n<!-- EOF -->","timeToRead":7,"frontmatter":{"title":"Blogã«Tagsæ©Ÿèƒ½ã‚’ã¤ã‘ã‚‹å·¥ç¨‹","date":"2023/06/04","description":"ç¶šãƒ»Gatsby+Contentful Tagsï½œã‚·ãƒ©ãƒ•ã«ãªã£ã¦è€ƒãˆãŸã‚‰æ¥½ã—ã‹ã£ãŸ","slug":"note-03-ContentfulTags2","featuredImage":null}}},"pageContext":{"slug":"note-03-ContentfulTags2","previous":"note-04-Markdown","next":"note-02-ContentfulTags","previousTitle":"Markdownã¯ã˜ã‚ã¾ã—ãŸ","nextTitle":"Blogã«Contentfulã®Tagsæ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸ","id":"a1362cb8-9073-539e-bd88-1a941ed73cb5"}},"staticQueryHashes":["2507079572"],"slicesMap":{}}