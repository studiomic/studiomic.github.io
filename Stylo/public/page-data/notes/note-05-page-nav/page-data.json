{"componentChunkName":"component---src-templates-note-post-js","path":"/notes/note-05-page-nav/","result":{"data":{"markdownRemark":{"id":"1e35ce55-0499-59e9-a1cb-c686947992e4","html":"<section style=\"margin-bottom: 6em;\">\nBlogの記事がまだ少ないので気づいたのだが、スターターに始めからついていた\n（←previous || next→）リンクがおかしかった。<br>\n最新記事なのに前後記事があるとか、そもそも前と後に指している記事が違うとか。\n<p>まずTag機能やNotesコンテンツを後から増やした自分の責任を疑ったがBlogまわりのcreatePageは書き換えていない。<br>\ngatsby-node.jsは、<a href=\"https://github.com/contentful/starter-gatsby-blog/blob/master/gatsby-node.js\">元ソース</a>と差がないなぁと眺めていて、（んん？）となった。</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>gatsby-node.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allContentfulBlogPost<span class=\"token punctuation\">.</span>nodes\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tposts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">const</span> previousPostSlug <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> posts<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>slug\n\t\t<span class=\"token keyword\">const</span> nextPostSlug <span class=\"token operator\">=</span>\n\t\tindex <span class=\"token operator\">===</span> posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> posts<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>slug\n\n\t\t<span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/blog/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>post<span class=\"token punctuation\">.</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> blogPost<span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token literal-property property\">slug</span><span class=\"token operator\">:</span> post<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n\t\t\t\tpreviousPostSlug<span class=\"token punctuation\">,</span>\n\t\t\t\tnextPostSlug<span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token literal-property property\">article</span><span class=\"token operator\">:</span> post<span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ここに問題はなさげだが、渡されているデータが</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>gatsby-node.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      {\n        allContentfulBlogPost {\n          nodes {\n            title\n            slug\n          }\n        }\n      }\n    </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>この <strong>「allContentfulBlogPost」</strong> はいったいどんな順番で配列化されているんだ？？ となった。<br>\n答えを先に書くと、公開日降順でソートをかければ、新しい記事から配列に収まる。</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>gatsby-node.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token function\">allContentfulBlogPost</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">sort</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">publishDate</span><span class=\"token operator\">:</span> <span class=\"token constant\">DESC</span> <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tnodes <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token operator\">...</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>数が少ないので、実際にgraphQLで見てみると、ソートなしの状態では次のような順番で表示された。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">（2）Gatsby Code SyntaxHighlighter（-/4）\t\t：code-syntaxHighlighter\n\n（4）M2 Mac mini（2/5）\t\t：m2-mac-mini\n  \n（5）2022年末の近況（4/6）\t\t：2022\n\n（6）決勝リーグ進出（5/1）\t\t：FIFA-WC2022\n\n（1）Gatsby Cloud（6/3）\t\t：gatsby-cloud\n\n（3）Mac mini M2 - 続き（6/-）\t\t：Mac-mini-M2</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>いちばん新しい記事が\n（1）Gatsby Cloud（6/3）で、（←previous || next→）リンクは（←6 / 3→）記事を指している<br>\nコロン：以下は実際のSlug<br>\n・・・アルファベット順でもID順でもないし、\ncreatedAt、contentful_id、あたりを見たが、理由は判明しなかった。<br></p>\n<p>が、この記事を書きながらContentfulを見に行って一目瞭然。<strong>Updated</strong> つまり更新降順だ。なるほど。<br>\n写真が重いとか誤字があったとか何かしらPostを開いて見ては上書き保存して、<strong>Updated</strong> がかなり前後したぐちゃぐちゃになった結果だが、早い時期に気づいて「更新順」だと知れて、むしろ良かったかも。</p>\n<p>確かに後日訂正があった記事などは、上位に上げるのは仕様としてありだ。<br>\nBlogトップページも同じ順番でPostを並べていたら、矛盾はない。<br>\nうちの場合は、Blogのインデックスページが「公開日降順」なので、今回きちんと揃えたことになる。</p>\n<hr>\n<p>いやいや・・・元ソースの<a href=\"https://github.com/contentful/starter-gatsby-blog/blob/master/src/pages/blog.js\">blog.js</a>も<strong>publishDate: DESC</strong> で gatsby-node.js と矛盾してるミスだよね。<br>\nまぁスターターとしては、それくらいは自分で学んだほうがいいよテンプレとして良い課題だったかしらん。</p>\n</section>\n<h1>せっかくなので、ついでにNotesにもナビを実装</h1>\n<section style=\"margin-bottom: 4em;\">\n基本的には、このページのいちばん上のコード \n<blockquote>\n<p><strong>if (posts.length > 0) { }</strong> を模倣。</p>\n</blockquote>\n<p>表示ページ側でいろいろ細工するのが面倒で、必要なものは全部、<strong>context:</strong> で渡してもらうようにした。<br>\nもっとスマートなやり方があったら知りたい😳</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>gatsby-node.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> notes <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>edges\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>notes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  notes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> previousNotetSlug <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> notes<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>slug\n    <span class=\"token keyword\">const</span> previousNotetTitle <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> notes<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title\n    <span class=\"token keyword\">const</span> nextNoteSlug <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> notes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> notes<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>slug\n    <span class=\"token keyword\">const</span> nextNoteTitle <span class=\"token operator\">=</span> index <span class=\"token operator\">===</span> notes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">:</span> notes<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title\n\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/notes/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>note<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> notePost<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">slug</span><span class=\"token operator\">:</span> note<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">previous</span><span class=\"token operator\">:</span>previousNotetSlug<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span>nextNoteSlug<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">previousTitle</span><span class=\"token operator\">:</span>previousNotetTitle<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">nextTitle</span><span class=\"token operator\">:</span>nextNoteTitle<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> note<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</section>\n\n        <div class=\"gatsby-code-title\">\n          <span>templates/note-post.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> pagenav <span class=\"token operator\">=</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'props.pageContext'</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>テンプレート側で小道具：pageContextを受け取ったのを、まずは地味にStrings状態で見る。<br></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n\t{pagenav.previous}/{pagenav.next}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n\t{pagenav.previousTitle}/{pagenav.nextTitle}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>　\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br>\n<div style=\"border:solid;border-width:2px;border-color:#ddd;\">\n\t<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/5768d4165a8efff2b46a13de9f55f087/d326d/2023-06-15.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 26.400000000000002%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqUlEQVR42o2PsQqEMBBE8/GC2Glj4X+IP6FBm/RaWIkKIiKoT3bBQ/Q4bmGYkJmdTAzAvu9CtG1LEASEYYjv+yRJwrquqh3HoZDJskx18UVRRBzHeJ5HmqaYu3GeZ6y1lGVJURQ45z6P3X11XasuPkFVVeR5TtM0GP6YK+h5/jZGGozjSN/3DMOg3HUd0zTpd7dtezUUlr0n5F4DJURCr+A7lmV5Bf5qeAIwZnedJfy6fAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"ナビゲーション実装作業中\" title=\"\" src=\"/static/5768d4165a8efff2b46a13de9f55f087/00d43/2023-06-15.png\" srcset=\"/static/5768d4165a8efff2b46a13de9f55f087/63868/2023-06-15.png 250w,\n/static/5768d4165a8efff2b46a13de9f55f087/0b533/2023-06-15.png 500w,\n/static/5768d4165a8efff2b46a13de9f55f087/00d43/2023-06-15.png 1000w,\n/static/5768d4165a8efff2b46a13de9f55f087/d326d/2023-06-15.png 1197w\" sizes=\"(max-width: 1000px) 100vw, 1000px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</div>\n<p>画像↑左下の感じでスラッグもタイトルも問題ないねーと確認したら、上のButtonタイプのリンクへ嵌め込む。</p>\n<p>ブログのテーマなどによる所で、このスターターの場合は Flex / wrap / justify-content: space-between;<br>\nFlexBoxのUListElementにテキストリンクだったのを先にButtonスタイルをつけていたSCSSなど持ってきて流用。</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>templates/note-post.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{styles.articleNavigation}</span><span class=\"token punctuation\">></span></span>\n\t{pagenav.previous &amp;&amp; (\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>\n\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Link</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{`/notes/${pagenav.previous}`}</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>prev<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t\t\t\t← {pagenav.previousTitle}\n\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Link</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n\t\t)}\n\t\t{pagenav.next &amp;&amp; (\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>\n\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Link</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{`/notes/${pagenav.next}`}</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>next<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t\t\t\t{pagenav.nextTitle} →\n\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Link</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n\t\t)}\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>これも最初は素でUListを書いておき、\n代入演算子　{pagenav.previous &#x26;&#x26; ( )}　と　{pagenav.next &#x26;&#x26; ( )} で囲うと、最初の記事と最後の記事で矢印　→　←　がパッと消え、空値の処理がまずくないのを目視して完了。</p>\n<p>最近石橋を叩きすぎなアマチュアismを発揮中。</p>\n<section style=\"margin-bottom: 4em;\"></section>","timeToRead":4,"frontmatter":{"title":"BlogのPrev-Nextナビゲーションを直すついでに","date":"2023/06/15","description":"Notesにも前後記事へのナビゲーションをつけた","slug":"note-05-page-nav","featuredImage":null}}},"pageContext":{"slug":"note-05-page-nav","previous":"note-05-Hello-GatsbyHeadAPI","next":"note-04-Markdown","previousTitle":"React-helmetを脱いでGatsby Head APIを冠る","nextTitle":"Markdownはじめました","id":"1e35ce55-0499-59e9-a1cb-c686947992e4"}},"staticQueryHashes":["2507079572"],"slicesMap":{}}